<div class="container">

  <div class="col-md-9">

    <div class="box">
      <form novalidate (ngSubmit)="save()" [formGroup]="mainForm">
        <h1>Check-Out</h1>

        <div class="content">
          <div class="row">
            <div class="col-sm-6">
              <div [ngClass]="{'has-error': displayMessage.firstName }">
                <input class="form-control" placeholder="Fist Name" formControlName="firstName" />
                <span class="help-block" *ngIf="displayMessage.firstName">
                  {{displayMessage.firstName}}
                </span>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <div [ngClass]="{'has-error': displayMessage.lastName }">
                  <input class="form-control" placeholder="Last Name" formControlName="lastName" />
                  <span class="help-block" *ngIf="displayMessage.lastName">
                    {{displayMessage.lastName}}
                  </span>
                </div>
              </div>
            </div>
          </div>
          <!-- /.row -->

          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <div [ngClass]="{'has-error': displayMessage.address }">
                  <input class="form-control" placeholder="Address" formControlName="address" />
                  <span class="help-block" *ngIf="displayMessage.address">
                    {{displayMessage.address}}
                  </span>
                </div>
              </div>
            </div>
          </div>
          <!-- /.row -->

          <div class="row">
            <div class="col-sm-6 col-md-6">
              <div class="form-group">
                <div [ngClass]="{'has-error': displayMessage.creditCardNumber }">
                  <input class="form-control" placeholder="Credit Card Number" formControlName="creditCardNumber"  maxlength="16"/>
                  <span class="help-block" *ngIf="displayMessage.creditCardNumber">
                    {{displayMessage.creditCardNumber}}
                  </span>
                </div>
              </div>
            </div>
            <div class="col-sm-6 col-md-6">

              <div class="form-group">
                <div [ngClass]="{'has-error': displayMessage.creditCardAuthCode }">
                  <input class="form-control" placeholder="Credit Card Auth Code" formControlName="creditCardAuthCode"  maxlength="3"/>
                  <span class="help-block" *ngIf="displayMessage.creditCardAuthCode">
                    {{displayMessage.creditCardAuthCode}}
                  </span>
                </div>
              </div>

            </div>
          </div>
          <!-- /.row -->
        </div>

        <div class="box-footer">
          <div class="pull-left">
            <a [routerLink]="['/shopping-cart']" class="btn btn-default">
              <i class="fa fa-chevron-left"></i>Back to basket</a>
          </div>
          <div class="pull-right">
            <button type="submit" class="btn btn-primary" [disabled]="!mainForm.valid">Finish</button>
          </div>
        </div>
      </form>
    </div>
    <!-- /.box -->


  </div>

  <div class="col-md-3">

    <div class="box" id="order-summary">
      <div class="box-header">
        <h3>Order summary</h3>
      </div>
      <div class="table-responsive"  *ngIf="shoppingCartList && shoppingCartList.length > 0">
        <table class="table">
          <tbody>
            <tr *ngFor="let shoppingCartItem of shoppingCartList">
              <td>{{shoppingCartItem.productName}} x ({{shoppingCartItem.unit}})</td>
              <th>{{shoppingCartItem.total | currency: shoppingCartItem.currency }}</th>
            </tr>
            <tr class="total">
              <td>Total</td>
              <th>{{total | currency: shoppingCartList[0].currency  }}</th>
            </tr>
          </tbody>
        </table>
      </div>

    </div>

  </div>
</div>
<!-- /.container -->
